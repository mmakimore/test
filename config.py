"""
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ParkingBot
"""
import os
from dotenv import load_dotenv

load_dotenv()

BOT_TOKEN = os.getenv("BOT_TOKEN", "YOUR_BOT_TOKEN_HERE")
DATABASE_PATH = os.getenv("DATABASE_PATH", "data/parking.db")
ADMIN_PASSWORD = os.getenv("ADMIN_PASSWORD", "X7!qR9@K#2mL$8Z")
ADMIN_SESSION_HOURS = 24
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã—Å—Ç–∞–≤–ª—è–µ–º UTC+3 (–ú–æ—Å–∫–≤–∞). –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ .env.
TIMEZONE = os.getenv("TIMEZONE", "Europe/Moscow")
# –¢–∞–π–º–∞—É—Ç –Ω–µ–æ–ø–ª–∞—á–µ–Ω–Ω–æ–π –±—Ä–æ–Ω–∏ (–º–∏–Ω—É—Ç). –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ .env.
BOOKING_TIMEOUT_MINUTES = int(os.getenv("BOOKING_TIMEOUT_MINUTES", "15"))
ADMIN_CHECK_USERNAME = os.getenv("ADMIN_CHECK_USERNAME", "@timofey_zhuravel")
FIXED_ADDRESS = os.getenv("FIXED_ADDRESS", "–î–æ–º 5")
WELCOME_TEXT = """–ü—Ä–∏–≤–µ—Ç üëã

–ó–¥–µ—Å—å –í—ã –º–æ–∂–µ—Ç–µ –∞—Ä–µ–Ω–¥–æ–≤–∞—Ç—å –º–µ—Å—Ç–æ –Ω–∞ –ø–∞—Ä–∫–∏–Ω–≥–µ —É —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∞. 
–î–ª—è —ç—Ç–æ–≥–æ –Ω–∞–∂–º–∏—Ç–µ ¬´–ù–∞–π—Ç–∏ –º–µ—Å—Ç–æ¬ª –∏ –≤—ã–±–µ—Ä–µ—Ç–µ –Ω—É–∂–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ—Ç. –ú–æ–∂–Ω–æ –±—Ä–∞—Ç—å –Ω–µ –≤–µ—Å—å —Å–ª–æ—Ç, –∞ –≤—ã–±—Ä–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –∏–º–µ–Ω–Ω–æ –≤–∞–º. 

–ü–æ–∫–∞ —Ç–µ—Å—Ç –≤ –¥–æ–º–µ #5

–£–≤–∞–∂–∞–µ–º—ã–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∏–∫–∏ –ø–∞—Ä–∫–∏–Ω–≥–∞, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–¥–∞—Ç—å —Å–≤–æ–µ –º–º, –Ω–∞–∂–º–∏—Ç–µ ¬´–î–æ–±–∞–≤–∏—Ç—å –º–µ—Å—Ç–æ¬ª. –ò –≤—ã–±–µ—Ä–µ—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ –≤–∞—à–µ –º–µ—Å—Ç–æ –±—É–¥–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã–º. 
–ù–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π—Ç–µ, –Ω–æ–º–µ—Ä –º–º –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä —É–≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. 
–ö–æ–Ω—Ç—Ä–æ–ª—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–µ—Ä–≤–∏—Å. 

–ü–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞ –ø–∏—à–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É @timofey_zhuravel

–ë—É–¥–µ–º —Ä–∞–¥—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ ‚úä
–•–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è!"""

CARD_NUMBER = os.getenv("CARD_NUMBER", "")
TIME_STEP_MINUTES = int(os.getenv("TIME_STEP_MINUTES", "15"))
# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–ª–æ—Ç–æ–≤).
# –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî –∫—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–æ.
WORKING_HOURS_START = os.getenv("WORKING_HOURS_START", "00:00")
WORKING_HOURS_END = os.getenv("WORKING_HOURS_END", "23:59")
MIN_BOOKING_MINUTES = int(os.getenv("MIN_BOOKING_MINUTES", "30"))
AVAILABILITY_LOOKAHEAD_DAYS = int(os.getenv("AVAILABILITY_LOOKAHEAD_DAYS", "7"))
EXPIRED_CLEANUP_DAYS = int(os.getenv("EXPIRED_CLEANUP_DAYS", "30"))
EXPIRE_CHECK_INTERVAL_SECONDS = int(os.getenv("EXPIRE_CHECK_INTERVAL_SECONDS", "60"))

MAX_SPOTS_PER_USER = 10
MAX_ACTIVE_BOOKINGS = 5
MIN_ACTION_INTERVAL = 1

# ===== –¢–ê–†–ò–§–´: –∏—Ç–æ–≥–æ–≤–∞—è —Ü–µ–Ω–∞ –∑–∞ N —á–∞—Å–æ–≤ (–∫–∞–∫ –≤ –¢–ó) =====
# –∫–ª—é—á = –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤, –∑–Ω–∞—á–µ–Ω–∏–µ = –∏—Ç–æ–≥–æ–≤–∞—è —Ü–µ–Ω–∞
# ===== –¢–ê–†–ò–§–´ =====
# –î–µ–Ω—å: 08:00‚Äì20:00 (–∏—Ç–æ–≥–æ–≤–∞—è —Ü–µ–Ω–∞ –∑–∞ N —á–∞—Å–æ–≤)
DAY_TOTAL_BY_HOURS = {
    1: 100,
    2: 200,
    3: 300,
    4: 380,
    5: 450,
    6: 510,
    7: 560,
    8: 600,
    9: 648,
    10: 700,
    11: 748,
    12: 780,
}

# –ù–æ—á—å: 20:00‚Äì08:00 (–∏—Ç–æ–≥–æ–≤–∞—è —Ü–µ–Ω–∞)
# –ü—Ä–∞–≤–∏–ª–∞:
# - –µ—Å–ª–∏ –±—Ä–æ–Ω—å —Ü–µ–ª–∏–∫–æ–º –Ω–æ—á—å—é ‚Äî –º–µ–Ω—å—à–µ 8 —á–∞—Å–æ–≤ –Ω–µ–ª—å–∑—è
# - –µ—Å–ª–∏ –±—Ä–æ–Ω—å –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç –¥–µ–Ω—å+–Ω–æ—á—å ‚Äî –Ω–æ—á–Ω–∞—è —á–∞—Å—Ç—å –º–∏–Ω–∏–º—É–º 600‚ÇΩ –¥–∞–∂–µ –∑–∞ 1 —á–∞—Å
NIGHT_TOTAL_BY_HOURS = {
    10: 600,
    11: 650,
    12: 700,
}
NIGHT_MIN_HOURS_ONLY = 8
NIGHT_MIN_TOTAL_MIXED = 600

DAY_START = "08:00"
DAY_END = "20:00"
NIGHT_START = "20:00"
NIGHT_END = "08:00"

# –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: —Å—Ç–∞—Ä–æ–µ –∏–º—è (–µ—Å–ª–∏ –≥–¥–µ-—Ç–æ –µ—â—ë –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
PRICE_TOTAL_BY_HOURS = DAY_TOTAL_BY_HOURS

# –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ —Å—Ç–∞—Ä—ã–º –∫–æ–¥–æ–º (–µ—Å–ª–∏ –≥–¥–µ-—Ç–æ –µ—â—ë –æ—Å—Ç–∞–ª–æ—Å—å):
# –≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Ä–∞—Å—á—ë—Ç–∞.
PRICE_TIERS = [
    (3,  100),
    (8,  75),
    (24, 75),
]
PRICE_DEFAULT = 75

STRICT_CARD_VALIDATION = os.getenv("STRICT_CARD_VALIDATION", "False").lower() in ("true", "1", "yes")

BANKS = [
    "–°–±–µ—Ä–±–∞–Ω–∫", "–¢–∏–Ω—å–∫–æ—Ñ—Ñ", "–í–¢–ë", "–ê–ª—å—Ñ–∞-–ë–∞–Ω–∫",
    "–ì–∞–∑–ø—Ä–æ–º–±–∞–Ω–∫", "–†–∞–π—Ñ—Ñ–∞–π–∑–µ–Ω", "–û—Ç–∫—Ä—ã—Ç–∏–µ", "–î—Ä—É–≥–æ–π"
]

LOG_LEVEL = os.getenv("LOG_LEVEL", "INFO")
LOG_FORMAT = "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

ABOUT_TEXT = """‚ÑπÔ∏è <b>–û —Å–µ—Ä–≤–∏—Å–µ</b>

–≠—Ç–æ—Ç –±–æ—Ç –ø–æ–º–æ–≥–∞–µ—Ç –∂–∏—Ç–µ–ª—è–º –Ω–∞—à–µ–≥–æ –ñ–ö –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ –º–∞—à–∏–Ω–æ–º–µ—Å—Ç–∞ –∏ –æ—Ñ–æ—Ä–º–ª—è—Ç—å –±—Ä–æ–Ω—å –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å–æ–∫ –≤ —á–∞—Ç–∞—Ö.

<b>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:</b>
1. –í–ª–∞–¥–µ–ª–µ—Ü –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã–π —Å–ª–æ—Ç.
2. –¢—ã –≤—ã–±–∏—Ä–∞–µ—à—å –ø–æ–¥—Ö–æ–¥—è—â–∏–π —Å–ª–æ—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—à—å –∑–∞–ø—Ä–æ—Å.
3. –ê–¥–º–∏–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –±—Ä–æ–Ω—å, –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –≤—ã–¥–∞—ë—Ç—Å—è –¥–æ—Å—Ç—É–ø –Ω–∞ –≤—ä–µ–∑–¥ –≤ –ø–∞—Ä–∫–∏–Ω–≥ –Ω–∞ –Ω—É–∂–Ω–æ–µ –≤—Ä–µ–º—è.

–ù–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî —á—Ç–æ–±—ã –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–ø–ª–∞—Ç–∞ –∏ –¥–æ—Å—Ç—É–ø –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ –ø–æ–Ω—è—Ç–Ω–æ –∏ –±–µ–∑ –ª–∏—à–Ω–µ–π —Å—É–µ—Ç—ã.

–ü–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º –ø–∏—à–∏—Ç–µ @timofey_zhuravel"""

RULES_TEXT = """üìú <b>–ü—Ä–∞–≤–∏–ª–∞ —Å–µ—Ä–≤–∏—Å–∞</b>

1. –°–µ—Ä–≤–∏—Å –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∂–∏—Ç–µ–ª–µ–π –∏ –≥–æ—Å—Ç–µ–π –∂–∏—Ç–µ–ª–µ–π –Ω–∞—à–µ–≥–æ –ñ–ö.
2. –ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç —Å–ª–æ—Ç –∏ –ø–∏—à–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É. –ë—Ä–æ–Ω—å –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∞–¥–º–∏–Ω–æ–º.
3. –†–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã –≤—ã–¥–∞—ë—Ç —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –≤ —Ä–∞–º–∫–∞—Ö –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–æ–π –±—Ä–æ–Ω–∏.
4. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –∞—Ä–µ–Ω–¥–∞—Ç–æ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —á–µ–∫/—Å–∫—Ä–∏–Ω –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è ‚Äî –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç–∞ –Ω–µ –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –¥–æ—Å—Ç—É–ø –Ω–µ –≤—ã–¥–∞—ë—Ç—Å—è.
5. –î–æ—Å—Ç—É–ø –Ω–∞ –≤—ä–µ–∑–¥ –≤—ã–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–ø–ª–∞—á–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª.
6. –ü–∞—Ä–∫–æ–≤–∞—Ç—å—Å—è —Å—Ç—Ä–æ–≥–æ –Ω–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–º –º–∞—à–∏–Ω–æ–º–µ—Å—Ç–µ, –Ω–µ –∑–∞–Ω–∏–º–∞—è —á—É–∂–∏–µ –º–µ—Å—Ç–∞.
7. –ü–∞—Ä–∫–æ–≤–∫–∞ –≤ –ø—Ä–æ–µ–∑–¥–∞—Ö –∑–∞–ø—Ä–µ—â–µ–Ω–∞.
8. –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏: –Ω–µ –ø–æ–∑–¥–Ω–µ–µ —á–µ–º –∑–∞ 1 —á–∞—Å –¥–æ –Ω–∞—á–∞–ª–∞ —Å–ª–æ—Ç–∞. –ü–æ–∑–¥–Ω–µ–µ ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –ø–æ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏ —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º.
9. –ï—Å–ª–∏ –º–µ—Å—Ç–æ –∑–∞–Ω—è—Ç–æ/–≤–æ–∑–Ω–∏–∫ —Å–ø–æ—Ä ‚Äî —Å—Ä–∞–∑—É –ø–∏—à–∏—Ç–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.
10. –ù–∞—Ä—É—à–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª (–∑–∞–Ω—è–ª–∏ —á—É–∂–æ–µ –º–µ—Å—Ç–æ, –æ–±—Ö–æ–¥ —Å–µ—Ä–≤–∏—Å–∞, –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ) ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è.
11. –û—Ñ–æ—Ä–º–ª—è—è –±—Ä–æ–Ω—å, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

–ü–æ –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º –ø–∏—à–∏—Ç–µ @timofey_zhuravel"""


# –ö–∞—Ä—Ç—ã: –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–æ–º–µ—Ä–∞
STRICT_CARD_VALIDATION = True   # Luhn
MIR_ONLY = True                 # –¢—Ä–µ–±–æ–≤–∞—Ç—å –ú–ò–† (2200‚Äì2204), –∫—Ä–æ–º–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö
ALLOWED_TEST_CARDS = {
    # Visa
    "4111111111111111",
    "4002690000000008",
    "4000160000000004",
    "4242424242424242",
    "4760202195126143",
    "4111111111111152",  # 3-D Secure (US)
    "4538040000000009",  # 3-D Secure (CA)

    # MasterCard
    "5555555555554444",
    "5000000000000002",
    "5200000000000007",  # 3-D Secure (success)
    "5200000000000015",  # 3-D Secure (fail)
    "5105105105105100",

    # Existing / other test cards
    "5100000000000008",
    "2201382000000013",
    "4444444444444422",
    "4444444411111111",
    "4954849397149582",
}

APP_VERSION = os.getenv('APP_VERSION', '2026-02-09-bothost-ready')
